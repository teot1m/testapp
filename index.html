<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Telegram Service Bot</title>
    <script src="https://tg.dev/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>Выберите услугу</h1>
    <div id="service-selection">
        <button onclick="selectService('loan')">Взять займ</button>
        <button onclick="selectService('contract')">Подписать договор</button>
        <button onclick="selectService('employment')">Найм на работу</button>
    </div>

    <div id="service-form" style="display:none;"></div>

    <script>
        var tg = window.Telegram.WebApp;

        function selectService(serviceType) {
            document.getElementById('service-selection').style.display = 'none';
            let formHtml = '';
            switch(serviceType) {
                case 'loan':
                    formHtml = '<h2>Форма займа</h2>' +
                               '<input id="loan-giver" type="text" placeholder="Имя кто дает займ" />' +
                               '<input id="loan-amount" type="text" placeholder="Сумма" />' +
                               '<input id="loan-interest" type="text" placeholder="Процент" />' +
                               '<input id="loan-term" type="text" placeholder="Срок" />' +
                               '<input id="loan-responsible" type="text" placeholder="Ответственный" />' +
                               '<input id="loan-receiver" type="text" placeholder="Кто берет займ" />';
                    break;
                // Добавьте кейсы для 'contract' и 'employment', если нужно
            }
            document.getElementById('service-form').innerHTML = formHtml;
            document.getElementById('service-form').style.display = 'block';
            tg.MainButton.show(); // Показываем кнопку отправки
        }

        function submitForm(serviceType) {
            if (serviceType === 'loan') {
                const loanData = {
                    giver: document.getElementById('loan-giver').value,
                    amount: document.getElementById('loan-amount').value,
                    interest: document.getElementById('loan-interest').value,
                    term: document.getElementById('loan-term').value,
                    responsible: document.getElementById('loan-responsible').value,
                    receiver: document.getElementById('loan-receiver').value
                };
                tg.sendData(JSON.stringify(loanData)); // Отправляем данные в Telegram бота
            }
            // Добавьте логику для других услуг, если это необходимо
        }

        // Настройка Telegram Web App
        tg.expand(); // Расширяем на весь экран, если нужно
        tg.MainButton.textColor = '#FFFFFF';
        tg.MainButton.color = '#2cab37';
        tg.MainButton.setText("Отправить данные");
        tg.MainButton.onClick(() => {
            submitForm('loan'); // Здесь указываем тип услуги
        });
    </script>
</body>
</html>
